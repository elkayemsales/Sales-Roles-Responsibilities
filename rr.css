* { box-sizing:border-box; margin:0; padding:0; }
body, html { font-family:"Segoe UI",Tahoma,Geneva,Verdana,sans-serif; background:#fff9f4; color:#4b433b; }

/* --- Fixed Controls (Styled Uniformly) --- */
#sidebarToggleBtn { 
    position:fixed; top:16px; right:16px; z-index:1600; 
    padding:12px 16px; border-radius:50px; cursor:pointer; 
    background:#d9c6a2; 
    color:#fff9f4; 
    font-weight:700; border: none; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.15);
    transition: background-color 0.2s;
}
#sidebarToggleBtn:hover { background: #b3a17a; }

#viewToggleBtn { 
    position:fixed; top:16px; right:90px; z-index:1600; 
    padding:12px 16px; border-radius:10px; cursor:pointer; 
    background:#d9c6a2; 
    color:#fff9f4; 
    font-weight:700; text-align:center; 
    box-shadow:0 2px 5px rgba(0,0,0,0.15); border: none; 
    transition: background-color 0.2s;
}
#viewToggleBtn:hover { background: #b3a17a; }

#ogcFloatingBtn {
    position: fixed;
    top: 16px; 
    right: 200px;
    z-index: 1000; 
    padding: 10px 15px;
    background-color: #d9c6a2;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    font-weight: bold;
    transition: background-color 0.3s, transform 0.2s;
}

#ogcFloatingBtn:hover { background-color: #b3a17a; }

#backToTop { 
    position:fixed; bottom:30px; right:30px; 
    padding:12px 16px; background:#e9dcca; 
    border-radius:50px; cursor:pointer; display:none; 
    z-index:1700; font-weight:700; border: none; 
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    transition: background-color 0.2s;
}
#backToTop:hover { background: #d7c6a6; }

/* --- Sidebar & Main Content --- */
#sidebar { 
    position:fixed; top:0; left:0; bottom:0; width:320px; max-width:90%; 
    background:#f7efe6; padding:20px; border-right:1px solid #d7c6a6; 
    border-radius:0 10px 10px 0; display:flex; flex-direction:column; 
    gap:12px; transform:translateX(-100%); transition:transform .28s ease; 
    z-index:1500; overflow-y:auto; 
}
#sidebar.open { transform:translateX(0); }

#main { padding:28px; transition:margin-left .28s ease; }
#main.shifted { margin-left:320px; }
h1 { font-size:1.8rem; margin-bottom:12px; color:#6b5e4a; }

/* --- Search Input Styling --- */
#filterInput { 
    width:100%; padding:10px; border-radius:10px; 
    border:1.6px solid #d7c6a6; margin-bottom:12px; 
    background:#fff4e6; 
    color:#4b433b; 
}

/* --- Filter Buttons --- */
.filter-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:6px; }
.filter-header h2 { font-size:1rem; color:#6b5e4a; margin:0; }
.clear-individual-btn { 
    background: #d7c6a6; color: #fff; border: none; border-radius: 5px; 
    padding: 2px 6px; font-size: 0.8rem; font-weight: 700; cursor: pointer;
    line-height: 1; transition: background-color 0.2s; 
}
.clear-individual-btn:hover:not(:disabled) { background: #b3a17a; } 
.clear-individual-btn:disabled { 
    background: #e9e5de; cursor: not-allowed; 
}

.filter-btn { 
    background:#fef8f3; border:1.6px solid #d7c6a6; 
    padding:8px 10px; border-radius:10px; cursor:pointer; 
    font-weight:600; text-align:left; display:block; 
    margin-bottom:6px; width:100%;
    transition: background-color 0.2s, border-color 0.2s; 
}
.filter-btn:hover:not(.active) { background: #f3e9d6; border-color: #b3a17a; } 
.filter-btn.active { background:#b3a17a; color:#fff9f4; border-color:#9b8958; box-shadow:0 4px 10px #9b895822; }

#clearFilterBtn { 
    background:#f2d1a9; border:0; padding:10px; width:100%; 
    border-radius:10px; font-weight:700; cursor:pointer; 
    margin-bottom:12px; transition: background-color 0.2s; 
}
#clearFilterBtn:hover:not(:disabled) { background: #d9b65b; } 
#clearFilterBtn:disabled { opacity:0.55; cursor:not-allowed; }

/* --- Card Styling --- */
.employee-card { background:#f3e9d6; border-radius:14px; padding:18px; margin-bottom:22px; box-shadow:0 3px 10px rgba(107,94,74,0.1); }
.employee-top { display:flex; gap:16px; align-items:flex-start; flex-wrap: wrap; }
.employee-top img { 
    width:90px; height:90px; border-radius:12px; 
    object-fit:fill; 
    border:3px solid #d7c6a6; background:#f8f4ed; flex-shrink:0; 
    cursor: pointer; 
}
.employee-top .meta { display:flex; flex-direction:column; gap:5px; flex-grow: 1; }
.employee-top h3 { margin:0; font-size:1.15rem; font-weight:700; }
.employee-top .code { font-weight:700; font-size:.96rem; }
.employee-top small { color:#8b7b5a; font-weight:600; }
.employee-actions-top {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    margin-left: auto; 
    align-self: flex-start; 
    padding-top: 10px; 
}
.action-document-btn {
    background: #5b4e3d;
    color: #fff9f4;
    border: none;
    padding: 8px 12px;
    border-radius: 8px;
    font-weight: 700;
    cursor: pointer;
    display: inline-block;
    transition: background-color 0.2s;
}
.action-document-btn:hover { background: #7a6e60; }
.customer-follow { margin-top:10px; background:#e3f5e3; border-left:4px solid #5ca65c; padding:8px 10px; border-radius:8px; }
.customer-follow strong { display:block; margin-bottom:6px; color:#2f6b2f; }
.customer-chip { display:inline-block; margin:4px 6px 0 0; background:#c4edc4; color:#2f6b2f; padding:4px 8px; border-radius:8px; font-weight:600; font-size:.9rem; }
.authorities { margin-top:10px; background:#fff4d6; border-left:4px solid #d9b65b; padding:8px 10px; border-radius:8px; display:flex; gap:8px; flex-wrap:wrap; }
.authority-chip { background:#f9e4a9; padding:6px 8px; border-radius:8px; font-weight:600; font-size:.88rem; }
.children-wrap { margin-top:12px; display:flex; flex-direction:column; gap:10px; }
.child-block { background:#fffef7; border:1.2px solid #e6dbc3; padding:10px; border-radius:10px; display:flex; flex-direction:column; gap:8px; }
.child-top { display:flex; justify-content:space-between; gap:12px; align-items:center; flex-wrap:wrap; }
.resp { font-weight:700; }
.contrib { font-size:.92rem; color:#8b7b5a; font-weight:600; background:#f2e9d3; padding:6px 8px; border-radius:8px; }
.secondline-row { display:flex; flex-wrap:wrap; gap:12px; margin-top:6px; }
.secondline-chip { display:flex; align-items:flex-start; gap:10px; background:#fff; border:1px solid #d7c6a6; padding:8px 10px; border-radius:10px; min-width:160px; flex:1 1 auto; flex-direction:row; }
.secondline-chip img { 
    width:52px; height:52px; border-radius:10px; 
    object-fit:fill; 
    border:2px solid #d7c6a6; background:#f7f1e8; 
    cursor: pointer; 
}
.sname { font-weight:700; color:#5b4e3d; }
.smeta { font-size:.84rem; color:#8b7b5a; }

/* --- ADVANCED: Skeleton Screen Styles --- */
/* Simple pulsing animation for the skeleton effect */
@keyframes pulse {
    0% { background-color: rgba(217, 198, 162, 0.4); }
    50% { background-color: rgba(217, 198, 162, 0.2); }
    100% { background-color: rgba(217, 198, 162, 0.4); }
}

#loadingSkeleton {
    display: flex;
    flex-direction: column;
    gap: 22px;
    margin-top: 20px;
}

.skeleton-card {
    background-color: #f3e9d6; /* Matches card background */
    border-radius: 14px;
    padding: 18px;
    height: 150px; /* Approximate card height */
    box-shadow: 0 3px 10px rgba(107,94,74,0.1);
    animation: pulse 1.5s infinite ease-in-out;
}
/* --- END ADVANCED SKELETON --- */

/* --- Modal Styles (Unchanged) --- */
#imageModal { display: none; position: fixed; z-index: 5000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.85); align-items: center; justify-content: center; pointer-events: none; }
#imageModal.visible { display: flex; pointer-events: auto; }
#modalContent { width: 90%; max-width: 700px; max-height: 90vh; object-fit: contain; border-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.5); background: #fff; pointer-events: auto; }
#pdfModal { display: none; position: fixed; z-index: 6000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.9); align-items: center; justify-content: center; }
#pdfModal.visible { display: flex; }
#pdfContent { width: 100%; height: 100%; max-width: none; background: #fff; border-radius: 12px; box-shadow: 0 0 20px rgba(0,0,0,0.7); overflow: hidden; display: flex; flex-direction: column; }
#pdfHeader { padding: 12px 20px; background: #6b5e4a; color: #fff; display: flex; justify-content: space-between; align-items: center; font-weight: 700; }
#pdfCloseBtn { background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; line-height: 1; padding: 0 5px; }
#pdfViewer { flex-grow: 1; width: 100%; border: none; }
#titles{ display: flex; align-items: center; justify-content: center; }

/* --- Media Queries (Unchanged) --- */
@media (max-width: 768px) {
    #main.shifted { margin-left: 0; }
    #sidebar { width: 280px; }
    #sidebarToggleBtn, #viewToggleBtn { top: 8px; padding:5px; }
    #sidebarToggleBtn { right: 8px; border-radius: 50%; }
    #viewToggleBtn { right: 40px; }
    #ogcFloatingBtn { right: 120px; top: 8px; padding: 5px 10px; font-size: 0.8rem;}
    .employee-actions-top { margin-left: 0; margin-top: 10px; width: 100%; }
    .action-document-btn { flex-grow: 1; }
}
